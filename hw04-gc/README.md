# Тестовое задание: определить оптимальный размер хипа jvm.

## Методика тестирования.

Задание было усложнено тем, что программа получила два замедляющих ее патча. 
Решено было протестировать две версии программы, последний патч и версию до применения обоих патчей.
Последнюю версию мы будем называть медленной, первую - быстрой.

Общее для обеих способов тестирования: программа запускалась из терминала, чтобы минимизировать 
воздействие IDE. Для сборки "толстого" jar-файла использовался плагин `shadowJar`. 
Для упрощения запуска 
jvm с различными параметрами был написан небольшой bash-скрипт (находится в папке `bash`).
Граничные параметры редактировались вручную.

## Оптимизация

В программе для эмуляции сложного вычисления используется цикл со множеством итераций, в котором
осуществляются простые арифметические действия с объектом `Data`, содержащим единственное поле
типа `Integer`. Если заменить `Integer` на примитивный `int`, мы получаем прирост скорости
в сотни процентов. Поведение gc проверялось как на оптимизированной, так и на первоначальной версии программы,
для каждой собирался отдельный jar-файл. Таким образом, было проведено четыре серии тестов.

### Быстрая версия программы

Отличается от медленной тем, что эффекты работы сборщика мусора на ней проявлялись сильнее всего.
Логи находятся в папке `fast-logs`.
* G1GC: Показывает плавный прирост производительности

